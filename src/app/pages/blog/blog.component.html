<nav class="navbar navbar-dark bg-dark">
  <a class="navbar-brand p-2 flex-grow-1" href="#">Angular blog</a>
  <button [hidden]="showButton" type="button" class="btn btn-outline-success p-2" data-toggle="modal"
    data-target="#exampleModal1">Log In</button>
  <button [hidden]="showButton" type="button" class="btn btn-outline-primary p-2" data-toggle="modal"
    data-target="#exampleModal2" (click)="signUp()">Sign
    Up</button>

  <button [hidden]="!showButton" type="button" class="btn btn-outline-success p-2" data-toggle="modal"
    data-target="#exampleModal3">Add post </button>
  <button [hidden]="!showButton" type="button" class="btn btn-warning p-2" disabled>{{author}}</button>
  <button [hidden]="!showButton" type="button" class="btn btn-outline-warning p-2" (click)="logOut()">Log Out</button>
</nav>

<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Sign In</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form name="myForm">
          <div class="form-group">
            <label for="exampleInputEmail1">Email:</label>
            <input [(ngModel)]="userEmail" name="userEmail" type="email" class="form-control" id="exampleInputEmail1"
              aria-describedby="emailHelp" required>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Password:</label>
            <input [(ngModel)]="userPassword" name="userPassword" type="password" class="form-control"
              id="exampleInputPassword1" required>
          </div>
          <div *ngIf="checkInput1" class="alert alert-danger" role="alert">
            Some input is empty
          </div>
          <div *ngIf="checkInput2" class="alert alert-danger" role="alert">
            Wrong password or email
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" #closeModal>Close</button>
        <button type="button" class="btn btn-success" (click)="submitLogIn()">Submit</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Sign Up</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="exampleInputUserName2">User Name</label>
            <input [(ngModel)]="userName" name="userName" type="userName" class="form-control"
              id="exampleInputUserName2">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail2">Email</label>
            <input [(ngModel)]="userEmail" name="userEmail" type="email" class="form-control" id="exampleInputEmail2"
              aria-describedby="emailHelp">
          </div>
          <div class="form-group">
            <label for="exampleInputPassword2">Password</label>
            <input [(ngModel)]="userPassword" name="userPassword" type="password" class="form-control"
              id="exampleInputPassword2">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" #closeModal2>Close</button>
        <button type="button" class="btn btn-success" (click)="addUser()">Submit</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add post</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="exampleFormControlInput1">Title:</label>
            <input [(ngModel)]="title" name="title" type="email" class="form-control" id="exampleFormControlInput1">
          </div>
          <div class="form-group">
            <label for="exampleFormControlTextarea1">Text:</label>
            <textarea [(ngModel)]="text" name="text" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" #closeModal3>Close</button>
        <button *ngIf="!addPost" type="button" class="btn btn-success" (click)="addBlog()">Post</button>
        <button *ngIf="saveEdit" type="button" class="btn btn-success" (click)="saveEditBlog()">Save Edit</button>
      </div>
    </div>
  </div>
</div>

<hr>
<div *ngFor="let blog of arrBlogs; let i=index" class="container-fluid card" style="width: 80rem;">
  <div class="card-body">
    <h5 class="card-title">{{blog.title}}</h5>
    <div class="d-flex card-subtitle">
      <h6 class="card-subtitle mb-2 text-muted p-2 w-100">Posted by: {{blog.author}}</h6>
      <h6 class="card-subtitle mb-2 p-2 flex-shrink-0"><small
          class="text-muted">{{Date | date:'hh-mm dd-MM-yyyy'}}</small></h6>
    </div>
    <div class="d-flex">
      <p class="card-text p-2 w-100">{{blog.text}}</p>
      <button [hidden]="!showButton" class="btn btn-warning h-25 p-2" type="button" (click)="edit(i)" data-toggle="modal"
      data-target="#exampleModal3">Edit</button>
      <button [hidden]="!showButton" class="btn btn-danger h-25 p-2" type="button" (click)="delete(i)">Delete</button>
    </div>
  </div>
</div>
